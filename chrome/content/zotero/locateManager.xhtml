<?xml version="1.0"?>
<!--
    ***** BEGIN LICENSE BLOCK *****
    
    Copyright Â© 2009 Center for History and New Media
                     George Mason University, Fairfax, Virginia, USA
                     http://zotero.org
    
    This file is part of Zotero.
    
    Zotero is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    
    Zotero is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.
    
    You should have received a copy of the GNU Affero General Public License
    along with Zotero.  If not, see <http://www.gnu.org/licenses/>.
    
    ***** END LICENSE BLOCK *****
-->
<!DOCTYPE prefwindow SYSTEM "chrome://zotero/locale/preferences.dtd">

<?xml-stylesheet href="chrome://global/skin/global.css"?>
<?xml-stylesheet href="chrome://zotero-platform/content/preferences.css"?>
<?xml-stylesheet href="chrome://zotero/skin/preferences.css"?>
<?xml-stylesheet href="chrome://zotero-platform/content/zotero.css"?>

<window
	id="zotero-locate-manager-prefs"
	title="&zotero.preferences.title;" onload="init()"
	windowtype="zotero:pref"
	xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
	xmlns:html="http://www.w3.org/1999/xhtml"
	style="display: flex; padding: 15px;">

	<script src="include.js"></script>
	<script src="locateManager.js"></script>
	
	<keyset>
		<key id="key_close" modifiers="accel" key="W" oncommand="window.close()"/>
	</keyset>

	<groupbox flex="1">
		<label><html:h2>&zotero.preferences.locate.locateEngineManager;</html:h2></label>
		
		<vbox class="groupbox-body" flex="1">
			<label id="locate-engine-description" style="font-size: 12px; width: 45em;"/>
			
			<separator class="thin"/>
			
			<hbox class="virtualized-table-container" flex="1" style="min-height: 100px;">
				<html:div id="locateManager-tree"/>
			</hbox>
			
			<separator class="thin"/>
			
			<hbox align="center">
				<hbox pack="start" flex="1">
					<button label="Toggle" onclick="toggleLocateEngines()" flex="1"/>
					<button id="locateManager-restoreDefaults" label="&zotero.preferences.locate.restoreDefaults;" oncommand="restoreDefaultLocateEngines()" flex="1"/>
				</hbox>
				<hbox pack="end" flex="2">
					<button disabled="true" id="locateManager-delete" label="-" oncommand="deleteLocateEngine()" flex="0.5"/>
				</hbox>
			</hbox>

			<!--
			TODO: Restore a way to add these
			<separator class="thin"/>
			<label id="addLocateEngineDescription" style="font-size: 10px; width: 45em; height: 6em">
				&zotero.preferences.locate.addDescription;
			</label>
			-->
		</vbox>
	</groupbox>

	<script>
		document.getElementById('locate-engine-description').textContent = Zotero.getString('locate.locateEngineDescription', Zotero.appName);
	</script>
</window>
